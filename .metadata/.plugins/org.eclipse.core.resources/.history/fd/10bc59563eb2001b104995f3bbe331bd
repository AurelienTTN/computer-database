package com.excilys.ui;

import java.io.IOException;
import java.time.LocalDate;
import java.util.Scanner;

import com.excilys.model.Computer;
import com.excilys.persistence.Dao;

public class CLI {
	
	public void CLI() {
		
	}
	
	public void affichageUtilisateur() throws IOException {
		
		String url = "jdbc:mysql://127.0.0.1:3306/computer-database-db";
		String name = "admincdb";
		String passwd = "qwerty1234";
		int choix;
		
		boolean decision = true;
		Dao base = new Dao(url,name,passwd);
		base.connection();
		Scanner sc = new Scanner(System.in);
		
		
		do{
			System.out.println("Que voulez vous faire ? Tapez le numéro correspondant à votre requête \n");
			System.out.println("Afficher la liste des ordinateurs - 1 ");
			System.out.println("Afficher la liste des compagnies - 2 ");
			System.out.println("Afficher un ordinateur en particulier - 3 ");
			System.out.println("Ajouter un nouvel ordinateur - 4 ");
			System.out.println("Mettre à jour un certain ordinateur - 5 ");
			System.out.println("Effacer un ordinateur - 6\n");
			System.out.println("Quitter - 0\n");
			
			System.out.println("Faites votre choix :");

			choix = sc.nextInt();
			
			switch(choix) {
				case 0:{
					decision=false;
					break;
				}
				case 1:{
					System.out.println("Voici la liste des ordinateurs :");
					base.afficherListeComputer();
					break;
				}
				case 2:{
					System.out.println("Voici la liste des compagnies :");
					base.afficherListeCompagnies();
					break;
				}
				case 3:{
					System.out.println("Veuillez entrer l'id de l'ordinateur souhaité");
					Scanner scan_id = new Scanner(System.in);
					int id = scan_id.nextInt();
					base.afficherUnComputer(id);
					
				}
				case 4:{
					System.out.println("Entrez un nom d'ordinateur");
					Scanner scan_ordi = new Scanner(System.in);
					String name_computer = scan_ordi.nextLine();
					LocalDate entree_pc1 = LocalDate.of(2015,6,22);
					LocalDate sortie_pc1 = LocalDate.of(2016,6,22);
					Computer new_computer = new Computer(name_computer,40,entree_pc1,sortie_pc1);
					base.ajouterUnComputer(new_computer);
					
					
				}
			}
			
			
			if (choix!=0) {
				System.out.println("\nVoulez vous continuer d'agir sur la base de donnée ? tapez 0 pour quitter");
				choix = sc.nextInt();
				if(choix==0) {
					decision=false;
				}
			}
			
		}while(decision);
		
		
		System.out.println("A bientôt chez Excilys ma caille");
		
	}
	

}
